# JS Object Literals; The DOM

## Understanding the Problem Domain
* Teaching and learning are easier when you take away the problem domain
* Coding can be difficult if you can't see the big picture
* Knowing your problem domain can make it much easier to code
* Not knowing this makes it difficult to solve the problem
* Make life easier for yourself by focusing only on a particular part of a problem
* Make sure you understand a problem before you try to write the code
* Don't start coding right away if you haven't planned what you are going to do

## Object Literals
* Objects group together variables and functions
* Variables in an object are known as **properties**
* A function in an object is called a **method**
* In an object, properties have names and values. The name is called the **key**
* `var objectName = {firstName: 'firstValue', secondKey: [an,array], functionName: function(){return this.firstName}};`
* Put a `:` between the key and the value
* when referencing the object from the method inside, use `this.`
* To reference something inside the object, use `objectName.propertyName` or `objectName.MethodName()`
* You can also use bracket notation, like `objectName['propertyName'];` or `objectName['methodName']();`
* You can use objects throughout your site to store a lot of information. You should use different variables for different objects on the same page

## Document Object Model
* The DOM tree is a model of a web page
* The dom tree starts with a document node, then each following node represents an HTML element, with nodes for text in the elements, and nodes called attributes representing ids and classes
* **DOM Queries** are methods that find elements in the DOM tree
* You can set a variable equal to something stored in the DOM tree
* DOM Queries can return one element or a collection of nodes
* `document.getElementByID('idName')` allows you to access an element with a specific id name
* If you store that to a variable, you can change the class of that element with  `.className`
* A **NodeList** is a DOM query that returns multiple elements. You can access the different elements like you would in an array, but they are actually stored in an object called a **collection**
* DOM queeries that would return a NodeList always do, even if there is only one item in the list
* There are **live NodeLists** and **static NodeLists**
  * `getElementsByTagName('h2')`
  * `querySelectorAll('li[id]')` returns all `li` items with an `id`
* There are two ways to get elements from a NodeList: the `item()` method and with **array syntax**
```var elements = document.getElementByClassName('hot')
if (elements.length >= 1) {  
var firstItem = elements.item(0);
}
```

```var elements = document.getElementsByClassName('hot');  
if (elements.length >= 1) {  
var firstItem = elements[0];
}
```
* `.getElementsByClassName` returns a NodeList
* `querySelector()` uses CSS selectors and returns the first match, and `querySelectorAll()` returns a NodeList of all the matches
* You can use a loop to pply the same statement to each element in a NodeList
* When you have an element node, you can select other close nodes with `parentNode`, `previousSibling`, `nextSibling`, `firstChild`, and `lastChild`
* This may not be effective, as many browsers add **whitespace nodes** between the nodes you put in with your HTML
```var itemOne = document.getElementById('one');
var itemTwo = itemOne.nextSibling;
```
* You can access the text within a node using `.nodeValue`
* You can use `.replace` to change the content of a node, like `.replace('originalText','newText')`
* `.textContent` will get the text content of a node and its children
* `.innerText` also does this, but it is not recommended because it does not show content that has been hidden by CSS
* `.innerHTML` takes everything inside a node, including the markup code, so you can change it and send it back, such as turning a word into a link or making text bold
* Create new elements in HTML with `createElement()`, `createTextNode()`, and `appendChild()`:

```
var newEl = documnet.createElement('li');
var newText = document.createTextNode('quinoa');
newEl.appendChild(newText);
newEl.appendChild(newText);
var position = document.getElementByTagName('ul')[0];
position.appendChild(newEl);
```
* Remove an element by selecting what you want to remove, the parent element, then removing the element from its parent
```
var removeEl = document.getElementsByTagName('11')[3];
var containerEl = removeEl.parentNode;
containerEl.removeChild(removeEl);
```
* `document.write` and `element.innterHTML` are not the best techniques for changing HTML content
  * Using these can lead to attacks known as XSS
  * Protect against this by not letting users enter HTML or JS
  * Content generated by users with code characters need to be escaped on the server
  * Use  `textContent` or `innerText` when adding user content. Only use `innerHTML if you control all the markup being added
* Attribute methods include `getAttribute()`, `hasAttribute()`, `setAttribute()`, and `removeAttribute('attributeToRemove')`, and properties include `className` and `id`
* `setAttribute('attributeName', 'attributeValue')` takes two parameters
* You can look at the DOM in Chrome by clicking Inspect, highlighting a line, and looking at the porperties.
* You can insert something before something else with `parent.inserBefore(newItem, target);`


